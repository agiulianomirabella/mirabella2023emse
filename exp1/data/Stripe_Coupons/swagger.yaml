components:
  schemas:
    coupon:
      description: 'A coupon contains information about a percent-off or amount-off
        discount you

        might want to apply to a customer. Coupons may be applied to [invoices](https://stripe.com/docs/api#invoices)
        or

        [orders](https://stripe.com/docs/api#create_order-coupon). Coupons do not
        work with conventional one-off [charges](https://stripe.com/docs/api#create_charge).'
      properties:
        amount_off:
          description: Amount (in the `currency` specified) that will be taken off
            the subtotal of any invoices for this customer.
          nullable: true
          type: integer
        applies_to:
          $ref: '#/components/schemas/coupon_applies_to'
        created:
          description: Time at which the object was created. Measured in seconds since
            the Unix epoch.
          format: unix-time
          type: integer
        currency:
          description: If `amount_off` has been set, the three-letter [ISO code for
            the currency](https://stripe.com/docs/currencies) of the amount to take
            off.
          nullable: true
          type: string
        duration:
          description: One of `forever`, `once`, and `repeating`. Describes how long
            a customer who applies this coupon will get the discount.
          enum:
          - forever
          - once
          - repeating
          type: string
        duration_in_months:
          description: If `duration` is `repeating`, the number of months the coupon
            applies. Null if coupon `duration` is `forever` or `once`.
          nullable: true
          type: integer
        id:
          description: Unique identifier for the object.
          maxLength: 5000
          type: string
        livemode:
          description: Has the value `true` if the object exists in live mode or the
            value `false` if the object exists in test mode.
          type: boolean
        max_redemptions:
          description: Maximum number of times this coupon can be redeemed, in total,
            across all customers, before it is no longer valid.
          nullable: true
          type: integer
        metadata:
          additionalProperties:
            maxLength: 500
            type: string
          description: Set of [key-value pairs](https://stripe.com/docs/api/metadata)
            that you can attach to an object. This can be useful for storing additional
            information about the object in a structured format.
          nullable: true
          type: object
        name:
          description: Name of the coupon displayed to customers on for instance invoices
            or receipts.
          maxLength: 5000
          nullable: true
          type: string
        object:
          description: String representing the object's type. Objects of the same
            type share the same value.
          enum:
          - coupon
          type: string
        percent_off:
          description: Percent that will be taken off the subtotal of any invoices
            for this customer for the duration of the coupon. For example, a coupon
            with percent_off of 50 will make a %s100 invoice %s50 instead.
          nullable: true
          type: number
        redeem_by:
          description: Date after which the coupon can no longer be redeemed.
          format: unix-time
          nullable: true
          type: integer
        times_redeemed:
          description: Number of times this coupon has been applied to a customer.
          type: integer
        valid:
          description: Taking account of the above properties, whether this coupon
            can still be applied to a customer.
          type: boolean
      required:
      - created
      - duration
      - id
      - livemode
      - object
      - times_redeemed
      - valid
      title: Coupon
      type: object
      x-expandableFields:
      - applies_to
      x-resourceId: coupon
    coupon_applies_to:
      description: ''
      properties:
        products:
          description: A list of product IDs this coupon applies to
          items:
            maxLength: 5000
            type: string
          type: array
      required:
      - products
      title: CouponAppliesTo
      type: object
      x-expandableFields: []
    package_dimensions:
      description: ''
      nullable: true
      properties:
        height:
          description: Height, in inches.
          type: number
        length:
          description: Length, in inches.
          type: number
        weight:
          description: Weight, in ounces.
          type: number
        width:
          description: Width, in inches.
          type: number
      required:
      - height
      - length
      - weight
      - width
      title: PackageDimensions
      type: object
      x-expandableFields: []
    product:
      description: 'Products describe the specific goods or services you offer to
        your customers.

        For example, you might offer a Standard and Premium version of your goods
        or service; each version would be a separate Product.

        They can be used in conjunction with [Prices](https://stripe.com/docs/api#prices)
        to configure pricing in Checkout and Subscriptions.


        Related guides: [Set up a subscription](https://stripe.com/docs/billing/subscriptions/set-up-subscription)
        or accept [one-time payments with Checkout](https://stripe.com/docs/payments/checkout/client#create-products)
        and more about [Products and Prices](https://stripe.com/docs/billing/prices-guide)'
      properties:
        active:
          description: Whether the product is currently available for purchase.
          type: boolean
        attributes:
          description: A list of up to 5 attributes that each SKU can provide values
            for (e.g., `["color", "size"]`).
          items:
            maxLength: 5000
            type: string
          nullable: true
          type: array
        caption:
          description: A short one-line description of the product, meant to be displayable
            to the customer. Only applicable to products of `type=good`.
          maxLength: 5000
          nullable: true
          type: string
        created:
          description: Time at which the object was created. Measured in seconds since
            the Unix epoch.
          format: unix-time
          type: integer
        deactivate_on:
          description: An array of connect application identifiers that cannot purchase
            this product. Only applicable to products of `type=good`.
          items:
            maxLength: 5000
            type: string
          type: array
        description:
          description: The product's description, meant to be displayable to the customer.
            Use this field to optionally store a long form explanation of the product
            being sold for your own rendering purposes.
          maxLength: 5000
          nullable: true
          type: string
        id:
          description: Unique identifier for the object.
          maxLength: 5000
          type: string
        images:
          description: A list of up to 8 URLs of images for this product, meant to
            be displayable to the customer.
          items:
            maxLength: 5000
            type: string
          type: array
        livemode:
          description: Has the value `true` if the object exists in live mode or the
            value `false` if the object exists in test mode.
          type: boolean
        metadata:
          additionalProperties:
            maxLength: 500
            type: string
          description: Set of [key-value pairs](https://stripe.com/docs/api/metadata)
            that you can attach to an object. This can be useful for storing additional
            information about the object in a structured format.
          type: object
        name:
          description: The product's name, meant to be displayable to the customer.
            Whenever this product is sold via a subscription, name will show up on
            associated invoice line item descriptions.
          maxLength: 5000
          type: string
        object:
          description: String representing the object's type. Objects of the same
            type share the same value.
          enum:
          - product
          type: string
        package_dimensions:
          $ref: '#/components/schemas/package_dimensions'
        shippable:
          description: Whether this product is a shipped good. Only applicable to
            products of `type=good`.
          nullable: true
          type: boolean
        statement_descriptor:
          description: Extra information about a product which will appear on your
            customer's credit card statement. In the case that multiple products are
            billed at once, the first statement descriptor will be used.
          maxLength: 5000
          nullable: true
          type: string
        unit_label:
          description: "A label that represents units of this product in Stripe and\
            \ on customers\u2019 receipts and invoices. When set, this will be included\
            \ in associated invoice line item descriptions."
          maxLength: 5000
          nullable: true
          type: string
        updated:
          description: Time at which the object was last updated. Measured in seconds
            since the Unix epoch.
          format: unix-time
          type: integer
        url:
          description: A URL of a publicly-accessible webpage for this product. Only
            applicable to products of `type=good`.
          maxLength: 2048
          nullable: true
          type: string
      required:
      - active
      - created
      - id
      - images
      - livemode
      - metadata
      - name
      - object
      - updated
      title: Product
      type: object
      x-expandableFields:
      - package_dimensions
      x-resourceId: product
info:
  contact:
    email: dev-platform@stripe.com
    name: Stripe Dev Platform Team
    url: https://stripe.com
  description: The Stripe REST API. Please see https://stripe.com/docs/api for more
    details.
  termsOfService: https://stripe.com/us/terms/
  title: Stripe API
  version: '2020-08-27'
  x-stripeSpecFilename: spec3
openapi: 3.0.0
paths:
  /v1/coupons:
    post:
      description: "<p>You can create coupons easily via the <a href=\"https://dashboard.stripe.com/coupons\"\
        >coupon management</a> page of the Stripe dashboard. Coupon creation is also\
        \ accessible via the API if you need to create coupons on the fly.</p>\n\n\
        <p>A coupon has either a <code>percent_off</code> or an <code>amount_off</code>\
        \ and <code>currency</code>. If you set an <code>amount_off</code>, that amount\
        \ will be subtracted from any invoice\u2019s subtotal. For example, an invoice\
        \ with a subtotal of <currency>100</currency> will have a final total of <currency>0</currency>\
        \ if a coupon with an <code>amount_off</code> of <amount>200</amount> is applied\
        \ to it and an invoice with a subtotal of <currency>300</currency> will have\
        \ a final total of <currency>100</currency> if a coupon with an <code>amount_off</code>\
        \ of <amount>200</amount> is applied to it.</p>"
      operationId: PostCoupons
      requestBody:
        content:
          application/x-www-form-urlencoded:
            encoding:
              applies_to:
                explode: true
                style: deepObject
              expand:
                explode: true
                style: deepObject
              metadata:
                explode: true
                style: deepObject
            schema:
              additionalProperties: false
              properties:
                amount_off:
                  description: A positive integer representing the amount to subtract
                    from an invoice total (required if `percent_off` is not passed).
                  type: integer
                currency:
                  description: Three-letter [ISO code for the currency](https://stripe.com/docs/currencies)
                    of the `amount_off` parameter (required if `amount_off` is passed).
                  type: string
                duration:
                  description: Specifies how long the discount will be in effect.
                    Can be `forever`, `once`, or `repeating`.
                  enum:
                  - forever
                  - once
                  - repeating
                  type: string
                duration_in_months:
                  description: Required only if `duration` is `repeating`, in which
                    case it must be a positive integer that specifies the number of
                    months the discount will be in effect.
                  type: integer
                expand:
                  description: Specifies which fields in the response should be expanded.
                  items:
                    maxLength: 5000
                    type: string
                  type: array
                id:
                  description: Unique string of your choice that will be used to identify
                    this coupon when applying it to a customer. If you don't want
                    to specify a particular code, you can leave the ID blank and we'll
                    generate a random code for you.
                  maxLength: 5000
                  type: string
                max_redemptions:
                  description: A positive integer specifying the number of times the
                    coupon can be redeemed before it's no longer valid. For example,
                    you might have a 50% off coupon that the first 20 readers of your
                    blog can use.
                  type: integer
                name:
                  description: Name of the coupon displayed to customers on, for instance
                    invoices, or receipts. By default the `id` is shown if `name`
                    is not set.
                  maxLength: 40
                  type: string
                percent_off:
                  description: A positive float larger than 0, and smaller or equal
                    to 100, that represents the discount the coupon will apply (required
                    if `amount_off` is not passed).
                  type: number
                redeem_by:
                  description: Unix timestamp specifying the last time at which the
                    coupon can be redeemed. After the redeem_by date, the coupon can
                    no longer be applied to new customers.
                  format: unix-time
                  type: integer
              required:
              - duration
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/coupon'
          description: Successful response.
        default:
          description: Error response.
      x-dependencies:
      - IF NOT currency THEN NOT amount_off;
      - IF NOT percent_off THEN amount_off;
      - IF percent_off THEN NOT amount_off;
  /v1/products:
    post:
      description: <p>Creates a new product object.</p>
      operationId: PostProducts
      requestBody:
        content:
          application/x-www-form-urlencoded:
            encoding:
              attributes:
                explode: true
                style: deepObject
              deactivate_on:
                explode: true
                style: deepObject
              expand:
                explode: true
                style: deepObject
              images:
                explode: true
                style: deepObject
              metadata:
                explode: true
                style: deepObject
            schema:
              additionalProperties: false
              properties:
                active:
                  description: Whether the product is currently available for purchase.
                    Defaults to `true`.
                  type: boolean
                attributes[]:
                  description: A list of up to 5 alphanumeric attributes. Should only
                    be set if type=`good`.
                  type: string
                caption:
                  description: A short one-line description of the product, meant
                    to be displayable to the customer. May only be set if type=`good`.
                  maxLength: 5000
                  type: string
                deactivate_on[]:
                  description: An array of Connect application names or identifiers
                    that should not be able to order the SKUs for this product. May
                    only be set if type=`good`.
                  type: string
                description:
                  description: The product's description, meant to be displayable
                    to the customer. Use this field to optionally store a long form
                    explanation of the product being sold for your own rendering purposes.
                  maxLength: 40000
                  type: string
                expand:
                  description: Specifies which fields in the response should be expanded.
                  items:
                    maxLength: 5000
                    type: string
                  type: array
                id:
                  description: An identifier will be randomly generated by Stripe.
                    You can optionally override this ID, but the ID must be unique
                    across all products in your Stripe account.
                  maxLength: 5000
                  type: string
                images[]:
                  description: A list of up to 8 URLs of images for this product,
                    meant to be displayable to the customer.
                  type: string
                name:
                  description: The product's name, meant to be displayable to the
                    customer. Whenever this product is sold via a subscription, name
                    will show up on associated invoice line item descriptions.
                  maxLength: 5000
                  type: string
                package_dimensions[height]:
                  description: package_dimensions[height]
                  type: number
                package_dimensions[length]:
                  description: package_dimensions[length]
                  type: number
                package_dimensions[weight]:
                  description: package_dimensions[weight]
                  type: number
                package_dimensions[width]:
                  description: package_dimensions[width]
                  type: number
                shippable:
                  description: Whether this product is shipped (i.e., physical goods).
                    Defaults to `true`. May only be set if type=`good`.
                  type: boolean
                statement_descriptor:
                  description: "An arbitrary string to be displayed on your customer's\
                    \ credit card or bank statement. While most banks display this\
                    \ information consistently, some may display it incorrectly or\
                    \ not at all.\n\nThis may be up to 22 characters. The statement\
                    \ description may not include `<`, `>`, `\\`, `\"`, `'` characters,\
                    \ and will appear on your customer's statement in capital letters.\
                    \ Non-ASCII characters are automatically stripped.\n It must contain\
                    \ at least one letter."
                  maxLength: 22
                  type: string
                type:
                  description: type
                  enum:
                  - service
                  - good
                  type: string
                unit_label:
                  description: "A label that represents units of this product in Stripe\
                    \ and on customers\u2019 receipts and invoices. When set, this\
                    \ will be included in associated invoice line item descriptions."
                  maxLength: 12
                  type: string
                url:
                  description: A URL of a publicly-accessible webpage for this product.
                    May only be set if type=`good`.
                  maxLength: 5000
                  type: string
              required:
              - name
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/product'
          description: Successful response.
        default:
          description: Error response.
      x-dependencies:
      - IF caption THEN type=='good';
      - IF [deactivate_on[]] THEN type=='good';
      - IF [package_dimensions[height]] OR [package_dimensions[length]] OR [package_dimensions[weight]]
        OR [package_dimensions[width]] THEN type=='good';
      - AllOrNone([package_dimensions[height]], [package_dimensions[length]], [package_dimensions[weight]],
        [package_dimensions[width]]);
      - IF shippable THEN type=='good';
      - IF url THEN type=='good';
security:
- basicAuth: []
- bearerAuth: []
servers:
- url: https://api.stripe.com/
